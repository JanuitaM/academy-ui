<template>
  <require from="./profile"></require>
  <input-form title.bind="title" cancel.bind="cancel" edit.bind="edit" save.bind="save" delete.bind="delete">
    <textbox label="Username" value.bind="data.username" error.bind="error.username" read-only.bind="(readOnly || isEdit)"></textbox>
    <password label="Password" value.bind="data.password" error.bind="error.password" read-only.bind="readOnly"></password>
    <profile data.bind="data.profile" error.bind="error.profile" read-only.bind="readOnly"></profile>

    <collection items.bind="data.roles" errors.bind="error.roles" headers.bind="collectionHeaders" add.delegate="addNewItem()"
      item-template="modules/user/templates/role-item" title="Roles">
      <div slot="body">
        <autocomplete label="search role: " select.delegate="roleSelected($event)" options.bind="controlOptions" loader.bind="roleLoader"
          placeholder="search role to assign" key="code" text="name" template="modules/user/templates/role"></autocomplete>
      </div>
    </collection>
  </input-form>
</template>
